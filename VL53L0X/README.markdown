# 距離センサによるスクリーンロック回避USBデバイス

自席にいる間はPCロックしないようにするためのデバイスです。

距離センサにより、在席中の場合は9分おきにマウス操作をPCに送り付けます。

![写真](../../img/avoidscreenlock-VL53L0X.jpg)

写真左下に見えているのが、椅子の上のざぶとん。
椅子に座った時に、ももまでの距離が測定されるように設置(マグネットクリップで固定)し、
距離がしきい値以下かどうかで在席を判定。

```
距離センサ------A-Star 32U4 Micro---[USB]---PC
```

## 背景

もともと、[人感センサによるスクリーンロック回避USBデバイス](../..)使用時に、
たまにロックされないままになっていることがあったので、
[感圧センサで離席検出してPCスクリーンロックするBLEデバイス](https://github.com/deton/ChairLeave)
を作って、1年以上併用していました。

が、普通はほぼ意識不要なのに、
日によっては何回も下記の現象が発生することがあってうんざりしたので、
BLEデバイス版の使用をやめて、
USBデバイス版の改良を試すことにしました。
センサを人感センサから距離センサに変えて、プログラムを見直し。

BLEデバイス版の課題:
BLE切断が発生して、
ロック前カウントダウンダイアログが表示され、
BLE接続が回復するとすぐダイアログが消える現象がたまに発生する。
この際、ダイアログがキーボード等のフォーカスを奪うので、作業がさまたげられる。

## 部品
+ [A-Star 32U4 Micro](https://www.switch-science.com/catalog/1748/)
+ [VL53L0X Time-of-Flight 距離センサモジュール](https://www.switch-science.com/catalog/2869/)

## 関連
+ [人感センサ版](../..)
